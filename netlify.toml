[build]
	command = 'pnpm build'
	publish = '.next'

[build.environment]
	NODE_VERSION = '20'
	PNPM_VERSION = '9'

[[redirects]]
	from = '/*'
	to = '/index.html'
	status = 200

[[headers]]
	for = '/*'
	[headers.values]
		X-Frame-Options = 'DENY'
		X-Content-Type-Options = 'nosniff'
		X-XSS-Protection = '1; mode=block'
		Referrer-Policy = 'strict-origin-when-cross-origin'
		Permissions-Policy = 'camera=(), microphone=(), geolocation=()'
		Strict-Transport-Security = 'max-age=31536000; includeSubDomains; preload'

[[headers]]
	for = '/*.js'
	[headers.values]
		Cache-Control = 'public, max-age=31536000, immutable'

[[headers]]
	for = '/*.css'
	[headers.values]
		Cache-Control = 'public, max-age=31536000, immutable'

[[headers]]
	for = '/images/*'
	[headers.values]
		Cache-Control = 'public, max-age=31536000, immutable'

[[headers]]
	for = '/_next/static/*'
	[headers.values]
		Cache-Control = 'public, max-age=31536000, immutable'

[functions]
	node_bundler = 'esbuild'
